<form class="wrap g-moudel-post m-article m-article-edit" id="js_formTplContent">

        <!-- 主區域 START -->
        <div class="w-main">


            <!-- 標題 -->
            <div class="fn-clear m-title">
                <input type="text" class="input-text" id="js_title" placeholder="请输入文章标题..." value="{{title}}">
            </div>


            <!-- 引言 -->
            <div class="fn-clear m-description">
                <label>引言<em>(微博分享，<font>还可以输入<strong id="js_residue-counter">90</strong>字</font><font style="display: none;color:red">已超出<strong id="js_exceed-counter">90</strong>字</font> )</em></label>
                <textarea name="" id="js_description">{{description}}</textarea>
            </div>


            <!-- 編輯器 -->
            <div class="fn-clear m-editor" id="js_editor">
                <div class="fn-clear toolbar">
                    <!-- 编辑器切换 -->
                    <div class="fn-left g-btn-group editor-type" >
                        <span class="g-btn" id="editorCode" type="0">CODE</span>
                        <span class="g-btn" id="editorView" type="1">可视化</span>
                        <span class="g-btn" id="editorText" type="2">TEXT</span>
                    </div>

                    <!-- 插入功能 -->
                    <div class="fn-right">

                        <div class="g-btn-group add-func">
                            <span class="g-btn g-btn-primary" id="saveBtn">
                                <i class="fa fa-floppy-o" title="临时保存，可用快捷键 ctrl+s 触发"></i>
                            </span>
                             <span class="g-btn" id="saveing" style="display: none">
                                <i class="fa fa-spinner fa-spin" title="临时保存，可用快捷键 ctrl+s 触发"></i>
                            </span>
                        </div>


                        <div class="g-btn-group add-func">
                            <span class="g-btn g-btn-primary" id="uploadImgBtn">
                                <i class="fa fa-picture-o" title="上传图片"></i>
                            </span>
                            <input type="file" name="file" id="images" multiple hidden>

                            <span class="g-btn" id="">
                                <i class="fa fa-file" title="上传文件"></i>
                            </span>

                            <span class="g-btn" id="pagination">
                                <i class="fa fa-rub" title="分页"></i>
                            </span>

                            <span class="g-btn" id="editorImgListBtn">
                                <i class="fa fa-folder"></i> 浏览
                            </span>
                        </div>

                        <div class="g-btn-group add-func">
                            <select name="" id="tpl" class="g-btn">
                                <option value="undefined">插入模板</option>
                                <option value="tpl1">左1图右文</option>
                                <option value="tpl2">ROW 2图</option>
                                <option value="tpl3">ROW 3图</option>
                            </select>
                        </div>
                    </div>

                    <div class="g-modal" style="" id="editorImgList">
                        <div class="g-modal-dialog">
                            <a href="javascript:void(0)" class="close" id="editorImgListClose">
                                <i class="fa fa-times"></i>
                            </a>

                            <div class="fn-clear g-modal-dialog-header">
                                <h5 class="fn-left">请选择图片</h5>
                            </div>

                            <div class="fn-clear g-modal-dialog-container">
                                <ul class="attachment-list" id="editorImgListContent" style="overflow-y: auto;">

                                </ul>
                            </div>

                            <div class="fn-clear g-modal-dialog-footer">
                                <div class="fn-clear g-pagination" id="paginationPlugin_img" ></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="js_aceEditor" class="m-editor-ace input-text"  style="display: none;"></div>
                <textarea name="" class="m-editor-text input-text" id="js_editor_textarea" style="height: 600px">{{content}}</textarea>
            </div>

            <!-- 編輯器擴展項目 -->
            <div class="fn-clear m-editor-ext">
                <span>水印位置：<input type="text" class="input-text input-num" id="js_content_wmp" value="{{content_wmp}}"></span>
                <span>使用第<input type="text" class="input-text input-num" id="js_banner_index" value="{{banner_index}}">张图片做banner图 </span>
                <span><input type="checkbox" class="input-checkbox" id="js_cleanthumbs">重新生成缩略图</span>
            </div>


            <!-- 各種功能按鈕 -->
            <div class="fn-clear m-func">
                <a href="javascript:void(0)" class="g-btn g-btn-primary" id="js_publicBtn" type="public">发布</a>
                <a href="javascript:void(0)" class="g-btn" id="js_draftBtn" type="draft">草稿</a>
                <a href="javascript:void(0)" class="g-btn" id="js_pendingBtn" type="pending">审核</a>
                <a href="javascript:void(0)" class="g-btn" id="js_previewBtn" type="autosave">预览</a>
                <a href="" class="g-btn" id="js_delete" type="autosave" target="_blank">删除文章</a>
            </div>


        </div>
        <!-- 主區域 END -->










        <!-- 擴展欄 START -->
        <div class="w-ext" >


            <!-- BANNER圖 -->
            <div class="fn-clear m-banner" id="js_uploadImgContent">
                {{if banner_url=='' || banner_url == undefined}}
                    <img src="img/article_banner_default.gif" alt="默认缩略图" width="300" id="js_bannerImgShow" bannerId="{{banner_id}}">
                {{else}}
                    <img src="{{banner_url}}" alt="默认缩略图" width="300" id="js_bannerImgShow" bannerId="{{banner_id}}">
                {{/if}}
                <div class="action">
                    <span class="g-btn g-btn-mini" id="js_uploadBannerImage" >上传banner图</span>
                    <input type="file" name="file" id="bannerImg" hidden>
                    <span class="g-btn g-btn-mini" id="js_selectImgBtn">选择</span>
                    <span class="lable-input">
                        水印
                         <input type="text" class="input-text" name="banner_wmp" id="js_banner_wmp" help-tips="选填项，参照小键盘方向输入，0为按后台设定的数值处理，-1为不加水印。" value="{{banner_wmp}}" />
                    </span>
                </div>

                <!-- 彈出窗口，默認隱藏 -->
                <div class="g-modal" style="" id="js_subject-thumb-upload-list">
                    <div class="g-modal-dialog">
                        <a href="javascript:void(0)" class="close" id="js_uploadImgListClose">
                            <i class="fa fa-times"></i>
                        </a>

                        <div class="fn-clear g-modal-dialog-header">
                            <h5 class="fn-left">请选择banner图</h5>
                        </div>

                        <div class="fn-clear g-modal-dialog-container">
                            <ul class="attachment-list" id="js_uploadImgList" style="overflow-y: auto;"></ul>
                        </div>
                        <!-- 分页器 -->
                        <div class="fn-clear g-modal-dialog-footer">
                            <div class="fn-clear g-pagination" id="paginationPlugin_banner" ></div>
                        </div>
                    </div>
                </div>
            </div>


            <!-- 挂件 - 評級 -->
            <div class="fn-clear m-widget m-widget-level">
                <h4>评级</h4>
                <div class="m-box">
                    <strong>{{views}}</strong> 浏览 / <strong>{{comments}}</strong> 评论
                    <span class="date" id="js_postDate"></span>
                    <strong class="level">中</strong>
                </div>
            </div>


            <!-- 挂件 - 關聯應用 -->
            <div class="fn-clear m-widget m-widget-app" >
                <h4>关联应用</h4>
                <div class="fn-clear m-box" id="js_applicationListContent">
                    {{each apps as app index}}
                        <a href="javascript:void(0)" class="btn-app" applicationid="{{app.id}}">
                            {{if app.icon=='' || app.icon==null}}
                                <img src="img/DefaultApplicationIcon.png" alt="{{app.name}}" title="{{app.name}}">
                            {{else}}
                                <img src="{{app.icon.thumb_url}}" alt="{{app.name}}" title="{{app.name}}">
                            {{/if}}
                            <i class="fa fa-times" operate="delete"></i>
                        </a>
                    {{/each}}
                    <a href="javascript:void(0)" class="btn-app add-app" id="js_addApplicationBtn"><i class="fa fa-plus"></i></a>
                </div>

                <!-- 彈出窗口，默認隱藏 -->
                <div class="g-modal select-app" style="" id="js_widgetApplicationList">
                    <div class="g-modal-dialog">
                        <a href="javascript:void(0)" class="close" id="js_widgetApplicationListClose"><i class="fa fa-times"></i></a>
                        <div class="fn-clear g-modal-dialog-header">
                            <h5 class="fn-left">请选择应用</h5>
                            <div class="fn-right">
                                <input type="text" value="" placeholder="搜索应用" id="js_searchApplicationText" class="input-text" >
                                <input type="button" value="搜索" id="js_searchApplicationBtn" class="g-btn">
                            </div>

                        </div>
                        <div class="fn-clear g-modal-dialog-container">


                            <div id="js_widgetApplicationListContent"></div>
                        </div>
                        <div class="fn-clear g-modal-dialog-footer">
                            <button type="button" class="fn-right g-btn g-btn-primary" id="js_widgetApplicationListSubmit">确定</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 挂件 - 關聯商品 -->
            <div class="fn-clear m-widget m-widget-product" >
                <h4>关联商品</h4>
                <div class="fn-clear m-box" id="js_productListContent">
                    {{each products as product index}}
                        <a href="javascript:void(0)" class="btn-product" productid="{{product.id}}">
                            {{if product.cover=='' || product.cover==null}}
                                <img src="img/DefaultApplicationIcon.png" alt="{{product.name}}" title="{{product.name}}">
                            {{else}}
                                <img src="{{product.cover.thumb_url}}" alt="{{product.name}}" title="{{product.name}}">
                            {{/if}}
                            <i class="fa fa-times" operate="delete"></i>
                        </a>
                    {{/each}}
                    <a href="javascript:void(0)" class="btn-product add-product" id="js_addProductBtn"><i class="fa fa-plus"></i></a>
                </div>

                <!-- 彈出窗口，默認隱藏 -->
                <div class="g-modal select-product" style="" id="js_widgetProductList">
                    <div class="g-modal-dialog">
                        <a href="javascript:void(0)" class="close" id="js_widgetProductListClose"><i class="fa fa-times"></i></a>
                        <div class="fn-clear g-modal-dialog-header">
                            <h5 class="fn-left">请选择商品</h5>
                            <div class="fn-right">
                                <input type="text" value="" placeholder="搜索应用" id="js_searchProductText" class="input-text" >
                                <input type="button" value="搜索" id="js_searchProductBtn" class="g-btn">
                            </div>

                        </div>
                        <!-- 内容 -->
                        <div class="fn-clear g-modal-dialog-container">
                            <div id="js_widgetProductListContent"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 挂件 - 文章基本信息 -->
            <div class="fn-clear m-widget m-widget-category">
                <h4>文章分类</h4>
                <div class="m-box">
                    <ul class="fn-clear list-category" id="js_categoryListContent">
                        {{each categories as categorie index}}
                            <li><a href="javascript:void(0)" value="{{categorie.id}}">{{categorie.name}}</a></li>
                        {{/each}}
                    </ul>
                    <a href="javascript:void(0)" class="g-btn g-btn-mini g-btn-primary add-category" id="js_categoryBtn">添加</a>

                    <!-- 彈出窗口，默認隱藏 -->
                    <div class="g-modal" style="" id="js_categoryListSelect">
                        <div class="g-modal-dialog">
                            <a href="javascript:void(0)" class="close" id="js_categoryListClose">
                                <i class="fa fa-times"></i>
                            </a>

                            <div class="fn-clear g-modal-dialog-header">
                                <h5 class="fn-left">文章分类</h5>
                            </div>

                            <div class="fn-clear g-modal-dialog-container">
                                <select name="" id="js_categoryListSelectContent" multiple="multiple" style="width:100%; height: 200px"></select>
                            </div>
                            <div class="fn-clear g-modal-dialog-footer">
                                <button type="button" class="g-btn g-btn-primary" id="js_categorySubmit">确定</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>






            <!-- 挂件 - 文章標籤 -->
            <div class="fn-clear m-widget m-widget-tags">
                <h4>文章标签</h4>
                <div class="m-box">
                    <ul class="fn-clear list-tags" id="js_tagsListContent">
                        {{each tags as tag index}}
                            <li>
                                <a href="javascript:void(0)">{{tag.name}}</a>
                            </li>
                        {{/each}}
                    </ul>
                    <div class="w-add-tage">
                        <input type="text" class="input-text input-text-mini" id="js_newTag">
                        <span  class="g-btn g-btn-primary g-btn-mini" id="js_addTag">添加</span>
                    </div>
                </div>
            </div>





            <!-- 挂件 - 设置定时器 -->
            <div class="fn-clear m-widget m-widget-timer">
                <h4>文章定时器</h4>
                <div class="m-box">
                    <input type="datetime-local" class="input-text" disabled id="js_postTime">
                    <input type="checkbox" class="input-checkbox" id="js_setPostTime">定时
                </div>
            </div>





            <!-- 挂件 - 高級選項 -->
            <div class="fn-clear m-widget m-widget-advanced">
                <div class="exp-btn">
                    <a href="javascript:void(0)" class="g-btn fn-clearfix" id="js_moreContentBtn">
                        高级选项 <span class="arrow-open"></span>
                    </a>
                </div>
                <div class="m-box fn-clearfix" id="js_moreContent"  style="display:none" >
                        <div class="section info-src">
                            <div class="field">
                                <label for="">来源作者</label>
                                <input type="text" class="input-text" placeholder="来源作者" value="{{author}}" id="js_author">
                            </div>

                            <div class="field">
                                <label for="">来源站点</label>
                                <input type="text" class="input-text" placeholder="来源站点" value="{{source_name}}" id="js_source_name">
                            </div>

                            <div class="field">
                                <label for="">来源链接</label>
                                <input type="text" class="input-text" placeholder="来源链接" value="{{source_url}}" id="js_source_url">
                            </div>
                        </div>

                        <div class="section article-setting">
                            <div class="field">
                                <label >自定URL</label>
                                <input type="text" class="input-text" id="js_slug" placeholder="自定URL" value='{{slug}}' >
                            </div>

                            <div class="field">
                                <label >跳转URL</label>
                                <input type="text" class="input-text" id="js_goto_link" placeholder="跳转URL"  value='{{goto_link}}'>
                            </div>

                            <div class="field">
                                <label>文章模板</label>
                                <select name="" id="js_templateContent" class="g-select">
                                    <option value="">不使用文章自定义模板</option>
                                    {{each templateList}}
                                        <option value="{{$value}}">{{$value}}</option>
                                    {{/each}}
                                </select>
                            </div>
                        </div>

                        <div class="section more-opt">
                            <ul class="g-list-ul">
                                <li><input type="checkbox" class="input-checkbox" id="js_disable_comment">禁止评论</li>
                                <li><input type="checkbox" class="input-checkbox" id="js_ontop">置顶</li>
                                <li><input type="checkbox" class="input-checkbox" id="js_url_filter">过滤外站连接</li>
                                <li><input type="checkbox" class="input-checkbox" id="js_page">页面</li>
                            </ul>
                        </div>
                </div>
            </div>

        </div>
        <!-- 擴展欄 END -->
</form>




<!-- 分類列表彈窗 -->
<div class="g-modal" style="" id="js_categoryListSelect">
    <div class="g-modal-dialog">
        <a href="javascript:void(0)" class="close" id="js_categoryListClose">
            <i class="fa fa-times"></i>
        </a>

        <div class="fn-clear g-modal-dialog-header">
            <h5 class="fn-left">文章分类</h5>
        </div>

        <div class="fn-clear g-modal-dialog-container">
            <select name="" id="js_categoryListSelectContent" multiple="multiple" style="width:100%; height: 200px"></select>
        </div>

        <div class="fn-clear g-modal-dialog-footer">
            <button type="button" class="g-btn g-btn-primary" id="js_categorySubmit">确定</button>
        </div>
    </div>
</div>

<!-- 上傳圖片彈窗 -->
<script id="js_uploadImgTpl" type="text/html">
    <div class="g-modal" style="" id="js_subject-thumb-upload-list">
        <div class="g-modal-dialog">
            <a href="javascript:void(0)" class="close" id="js_uploadImgListClose"><i class="fa fa-times"></i></a>
            <h1>请选择banner图</h1>
            <ul class="attachment-list" id="js_uploadImgList" style="overflow-y: auto;height: 400px;">
                {{each data}}
                <li>
                    <img src="{{$value.thumb_url}}" alt="">
                    <span class="bottom">
                        <span class="filename">{{$value.filename}}</span>
                        <span class="actions"><a class="delete" href="javascript:void(0);" bannerImgid="js_{{$value.id}}">删除</a></span>
                    </span>
                </li>
                {{/each}}
            </ul>
            <div class="modal-footer">
                <button type="button" class="g-btn g-btn-primary" id="js_uploadImgListSubmit">确定</button>
            </div>
        </div>
    </div>
</script>
